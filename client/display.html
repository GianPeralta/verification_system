<!DOCTYPE HTML>
<HTML>
<HEAD>
    <title>Gate Pass Record</title>
	<script language="javascript" type="text/javascript" src="./js/jquery-3.6.4.js"></script>
	<link rel="stylesheet" href="./css/style.css">
    <style>
      @media print {
        @page {
            size: A4;
            margin: 1cm;
          }
        table tbody tr{
            page-break-inside: avoid;
          }
        #displayTabTable{
            margin-top: 500px;
        }
      }

    </style>
</head>
<body>
    <header>
		<div id="logo">
			<img src="./img/uc_logo.png" alt="" height="52px">
		</div>
		<div id="site-name">
			<p>Student Verification</p> 
		</div>
	</header>
    <div id="userTab" style="border: 1px solid black;">
		<button id="logout" style="margin: 15px">Logout</button>
        <button id="verification" style="margin: 15px">Verification</button>
	</div>	
    <div id="searchDepartmentMonth">
        <table id="no-border">
            <tr>
                <td colspan="1">
                    <label for="startDate">Start Date:</label>
                    <input type="date" id="startDate" name="startDate" class="green-input">
                </td>
                <td colspan="1">
                    <label for="endDate">End Date:</label>
                    <input type="date" id="endDate" name="endDate" class="green-input">
                </td>
                <td colspan="1">
                    <label for="deptList">Department:</label>
                    <select id="deptList" name="deptList">
                        <option value="All Deparments">All Deparments</option>
                        <option value="College of Information Technology and Computer Science">College of Information Technology and Computer Science</option>
                        <option value="College of Accountancy">College of Accountancy</option>
                        <option value="College of Teacher Education">College of Teacher Education</option>
                        <option value="College of Criminal Justice Education">College of Criminal Justice Education</option>
                        <option value="College of Arts and Sciences">College of Arts and Sciences</option>
                        <option value="College of Business Administration">College of Business Administration</option>
                        <option value="College of Engineering and Architecture">College of Engineering and Architecture</option>
                        <option value="College of Hospitality and Tourism Management">College of Hospitality and Tourism Management</option>
                        <option value="College of Nursing">College of Nursing</option>
                        <option value="College of Law">College of Law</option>
                        <option value="SHS">Senior High School</option>
                    </select>
                </td>
                <td colspan="1">
                    <button class="display-buttons" id="submit-button" style="width: 100%; height: 50px;">Submit</button>
                </td>
            </tr>
            <!--
            <tr>
                <td colspan="2">
                    <button class="display-buttons" id="submit-button" style="width: 100%;">Submit</button>
                </td>
                <td>
                    <button class="display-buttons" id="print-display" style="width: 100%;">Print Page</button>
                </td>
            </tr>
            <button onclick="sortTable()">Sort</button>
            -->
            
        </table>
       
    </div>	
    <div hidden id="listHeader">
        <table></table>
    </div>

    <div style="width: 100%;" hidden id="displayTab">
        <table style="width: 90%; margin: 0 auto;" id="displayTabTable">

        </table>

    </div>

    <footer>
		<p>&copy; 2023 University of the Cordilleras. All Rights Reserved.</p>
	</footer>
    <script src="./js/script.js"></script>
    <script type="text/javascript">
        window.addEventListener("beforeprint", function() {
            var tahead = document.getElementById('display-head');
            tahead.style.display="table-row";
            var rows = document.querySelectorAll('#displayTabTable tbody tr');
            console.log(rows);
            counter=1;
            for (var i = 0; i < rows.length; i++) {
                if ((i + 1) % 33 === 0) {
                    var newRow = document.createElement('tr');
                    newRow.setAttribute('style', 'font-size: 10px; font-weight: bold; border: none;');
                    newRow.innerHTML = '<td colspan="4" class="page-numbers" style="text-align:right; border:none;">Page '+counter+'</td>';
                    rows[i].parentNode.insertBefore(newRow, rows[i].nextSibling);
                    counter++;
                } else if (i == rows.length-1){
                    var newRow = document.createElement('tr');
                    newRow.setAttribute('style', 'font-size: 10px; font-weight: bold; border: none;');
                    newRow.innerHTML = '<td colspan="4" class="page-numbers" style="text-align:right; border:none;">Page '+counter+'</td>';
                    rows[rows.length - 1].parentNode.insertBefore(newRow, null);
                    counter++;
                }
            } 
        });
        window.addEventListener('afterprint', function() {
            var tahead = document.getElementById('display-head');
            tahead.style.display = 'none';
            var pageNum = document.querySelectorAll('.page-numbers');
            for (var i = 0; i < pageNum.length; i++) {
                pageNum[i].parentNode.removeChild(pageNum[i]);
            }
        });
    </script>
</body>
</html>